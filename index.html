<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>AC209A - Measuring Our Environment with Sensors</title>

  <!-- Font Awesome Icons -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic'
    rel='stylesheet' type='text/css'>

  <!-- Plugin CSS -->
  <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

  <!-- Theme CSS - Includes Bootstrap -->
  <link href="css/creative.min.css" rel="stylesheet">

</head>

<body id="page-top">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="#page-top">AC209A - Sensors and Environment</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
        data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto my-2 my-lg-0">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#problem">Problem</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#intro">Introduction</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#data">Data</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#literature">Literature</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#model">Model</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#results">Results</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#conclusion">Conclusion</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#about">About us</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Masthead -->
  <header class="masthead">
    <div class="container h-100">
      <div class="row h-100 align-items-center justify-content-center text-center">
        <div class="col-lg-10 align-self-end">
          <h1 class="text-uppercase text-white font-weight-bold">Measuring Our Environment With Sensors</h1>
          <hr class="divider my-4">
        </div>
        <div class="col-lg-8 align-self-baseline">
          <p class="text-white-75 font-weight-light mb-5">Sensors serve as powerful devices for measuring our
            environment. In this project, we generated predictive models for weather conditions with data captured with
            indoor sensors.</p>
          <a class="btn btn-primary btn-xl js-scroll-trigger" href="#problem">Find Out More</a>
        </div>
      </div>
    </div>
  </header>


  <!-- Problem Section -->
  <section class="page-section bg-secondary" id="problem">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
          <h1 class="text-white mt-0">1. Problem</h1>
          <hr class="divider light my-4">
          <h3 class="text-white mb-4"><i>Can we predict outdoor weather conditions using indoor sensor measurements?</i>
          </h3>

        </div>
      </div>
      <p class="text-white mb-40">In this project, we like to address the question of whether we can
        predict outdoor weather conditions, based on indoor sensor measurements. Specifically, we are
        interested in two sub-questions:
        <ol class="text-white mb-40">
          <li>Can we predict current outdoor weather conditions based on indoor sensor measurements?</li>
          <li>Can we forecast future weather conditions based on current sensor measurements?</li>
        </ol>
      </p>
    </div>
  </section>



  <!-- Introduction Section -->
  <section class="page-section" id="intro">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
          <h1 class="text mt-0">2. Introduction of the problem</h1>
          <!-- <hr class="divider light my-4"> -->
          <hr class="divider my-4">

          <!-- <a class="btn btn-light btn-xl js-scroll-trigger" href="#services">Get Started!</a> -->
        </div>

        <p class="text mb-4">
          The weather is critically important in the lives of many people, and dramatically impact a
          wide range of economic and human activities. For instance, people are generally less likely
          to perform outdoor activities when it is freezing and rainy outdoors, than if the weather
          is nice and sunny. On this note, the measurement of weather conditions is critically
          important to help guide different human activities.
        </p>
        <p> The miniaturization of mobile devices has led to an emerging Internet of Things (IoT)
          revolution. Specifically, a wide range of devices, including sensors used in the detection
          of weather conditions, can now be widely and readily installed across multiple locations.
          Given that these sensors can be connected via the internet, such devices enable in principle
          real time measurements of weather conditions.
        </p>
        <p>However, many of these sensors make use of sensitive electronics that will degrade
          when directly exposed to different elements of the weather. As such, the use of these
          devices are largely limited to indoor settings, which may prohibit the accurate
          measurement of outdoor weather conditions. Thus, given the limitations of these
          sensors to largely indoor settings, we are interested in whether it will be
          possible to predict outdoor weather conditions based on measurements from these
          indoor sensors.
        </p>
      </div>
    </div>
  </section>



  <!-- Data Section -->
  <section class="page-section" id="data">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
          <h1 class="text mt-0">3. Data</h1>
          <hr class="divider my-4">
        </div>
      </div>


      <h2>3.1. Description of the data</h2>
      <p class="text mb-40">
        In this project, we like to address the question of whether we can predict outdoor weather
        conditions, based on indoor sensor measurements, we also obtained the following weather
        data from weather stations. We have installed sensors to measure various environmental
        attributes in two different locations in Boston. Specifically, the sensors were installed
        in (A) the dormitory room of one of our groupmates, and (B) the attic of another groupmate
        of our ours. The sensors were installed to capture the following environmental attributes
        over numerous days at 1 second interval:
      </p>
      <p> <i><b>Sensor measurements (Predictors)</b>: (i) Temperature, (ii) Humidity, (iii) Pressure,
          (iv) Light, (v) Motion, (vi) Location of sensor, (vii) Time of measurement</i>
      </p>
      <i><b>Weather Conditions (Response):</b> (i) Temperature in Boston, (ii) Sunrise, sunset timings,
        (iii) Wind speed, (iv) Wind direction, (v) Amount of precipitation, (vi) Cloudy or not</i>
      </p>

      <p><br></p>
      <!-- 
            <h2>3.2 Initial exploration of data</h2>
            <p> We performed initial exploration of the data obtained from the sensors. These plots are 
              depicted in Figure 1 and Figure 2 for sensors A and B respectively.
            </p> -->


      <h2 class="c32" id="h.acmx65vrw2d1"><span class="c20">3.2 Initial exploration of data</span></h2>
      <p class="c4"><span class="c0">We performed initial exploration of the data obtained from the sensors.These plots
          are depicted in Figure 1 and Figure 2 for sensors A and B respectively.</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4">
        <span><img alt="" src="img/image6.png" title=""></span></p>
      <p class="c4">
        <span class="c6 c36"><b>Figure 1</b> </span><span class="c26">Measurements from sensor A. (Left panels) Raw data
          from the sensor, (middle panels) data after cleaning, (right panels) autocorrelation of the data. The top to
          bottom panel represents data from humidity, light, motion, pressure and temperature data collected from the
          sensor.</span>
      </p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4">
        <img alt="" src="img/image18.png" title=""></span></p>
      <p class="c4"><span class="c6 c36"><b>Figure 2</b> </span><span class="c26"><b>Measurements from sensor B.</b>
          (Left panels) Raw data from the sensor, (middle panels) data after cleaning, (right panels) autocorrelation of
          the data. The top to bottom panel represents data from humidity, light, motion, pressure and temperature data
          collected from the sensor.</span></p>

      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">&nbsp;</span></p>
      <h2 class="c32" id="h.4lrj4170i04g"></h2>



      <h2><span class="c20">3.3 Data cleaning and reconciliation</span></h2>
      <p class="c1"><span>We can see from the plot </span>
        <span class="c6"><b>(Figure 1 and 2)</b></span><span class="c0">&nbsp;that there are clear discordant points in
          the Humidity, Light, Motion and Pressure data represented by regular sharp spikes, but none in Temperature.
          Thus, our goal was to clean the data as thoroughly as possible without losing any signal. First, we checked if
          the discordant points were truly periodic. &nbsp;Unfortunately, while they appear periodic on the plot - this
          is only due to scale. &nbsp;The points are slightly off periodic and differ between each sensor. &nbsp;As
          such, each predictor must be cleaned separately. We thus applied the following data cleaning strategies for
          each of the following data:</span>

      </p>
      <p class="c1 c23"><span>1.</span><span class="c29">&nbsp; &nbsp; &nbsp;</span><b><span class="c6">Light &amp;
            Motion</span><span class="c0"></b>&nbsp;were cleaned by eliminating points outside a bound. &nbsp;For
        &ldquo;Light&rdquo; we ignore points larger than 4095 12-bit scale specified in the sensor manual. &nbsp;For
        &ldquo;Motion&rdquo; we ignore points that are greater than 1 (since the motion predictor is binary).
        &nbsp;</span></p>
      <p class="c1 c23"><span>2.</span><span class="c29">&nbsp; &nbsp; &nbsp;</span>

        <span class="c6"><b>Pressure</b></span><span class="c0">&nbsp;was also cleaned by eliminating points outside a
          bound, but in this case the parameters of the sensor is insufficient. &nbsp;Instead we eliminate results below
          500hPa. &nbsp;This is about half of typical atmospheric pressure on earth, and far below the record low
          pressure recorded on earth 850 hPa, in a tornado measured by Tim Samaras in South Dakota. &nbsp;</span></p>
      <p class="c1 c23"><span>3.</span><span class="c29">&nbsp; &nbsp; &nbsp;</span>

        <span class="c6"><b>Humidity</b></span><span class="c0">&nbsp;was the most difficult, since the discordant
          points are plausible values for an observed humidity. To deal with this we take the finite difference between
          consecutive observations and remove those whose change is not within 3 standard deviations of the average
          change. (Sigma clip). &nbsp;The 3 sigma setting is somewhat arbitrary but works well on our test data
          sets.</span></p>

      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">&nbsp;</span></p>
      <h2 class="c32" id="h.4lrj4170i04g"></h2>


      <h2 class="c32" id="h.wnw1djsq1ohi">
        <span class="c20">3.4 Noteworthy Findings of exploratory data analysis</span>
      </h2>
      <p class="c1"><span class="c10 c41">&nbsp;</span></p>
      <p class="c1">


        <b><span class="c10">3.4.</span><span class="c8">1 Certain sensor measurements correlate better with ground
            truth weather measurements.</span></b>
      </p>
      <p class="c1"><span>From </span><span class="c6">Figure 3</span><span class="c0">, we see that the sensor
          measurements for pressure seems to fit and track the ground truth pressure measurements collected from the
          weather stations for both Sensor A and Sensor B, which were placed in the room of a dormitory and an attic
          respectively. On the other hand, temperature measurements and humidity from our indoor sensors did not track
          the outdoor weather conditions as well. Notably, as expected, we found that the sensor placed in the attic was
          more similar to the measurements reported by the weather station, as compared to the sensor placed in the
          dormitory room which is highly affected by human activity.</span></p>

      <b>
        <p class="c1"><span class="c8">&nbsp;</span></p>
        <p class="c1"><span class="c8">3.4.2 Autocorrelation in data implies possibility to do weather
            forecasting</span></p>
      </b>

      <p class="c1"><span>The weather condition and/or sensor measurement at a particular time point might be highly
          correlated with that found at a later time point. If this is indeed true, it might allow us to predict future
          weather conditions (e.g. using sensor measurements at 2pm, to predict weather conditions at 3pm). To assess if
          it might be possible for us to forecast future weather conditions, based on current sensor measurements, we
          calculated the auto-correlation of the current sensor measurement with sensor measurements staggered by a
          timestep, using the </span><span class="c15">pandas.Seri</span><span class="c0">es.autocor function. The
          autocorrelation is defined as the normalized Pearson correlation coefficient between time series values and
          their lags:</span></p>

      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c33"><span><img alt="" src="img/image19.png" title=""></span></p>
      <p class="c4"><span class="c0">&nbsp;</span></p>
      <p class="c4"><span>Notably, we see a gradual decay in correlation of the data at delta_t increases </span><span
          class="c6">(Figure 1 and 2)</span><span>. This indicates that data that is closer to the current time is more
          correlated than data that is further in time. Interesting, there is a periodic pattern in autocorrelation of
          light data for sensor B </span><span class="c6">(Figure 2)</span><span class="c0">. Further, the
          autocorrelation in the data implies that forecasting of the weather conditions might be possible.</span></p>
      <p class="c4"><span><img alt="" src="img/image24.png" title=""></span></p>
      <p class="c4"><span class="c6 c36"><b>Figure 3</b> </span><span class="c26"><b>A summary of all the data collected
            as of Nov 17.</b> Sensor A (sensor in dormitory room) is in blue and Sensor B (sensor in attic) is in red.
          &nbsp;The lines show various measurements made at Boston-Logan airport that we might try to predict. &nbsp;It
          appears that our Humidity and Pressure measurements are highly correlated, but the temperature seems more
          weakly correlated. Boston Logan did not provide any good analogs for our Light or Pressure measurements.
        </span></p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c2 c30"><span class="c11 c6"></span></p>
      <h2 class="c32" id="h.jo9ws3u2t6a6"><span class="c34">&nbsp;</span>

        </p>
        <p class="c4 c2"><span class="c11 c6"></span></p>
        <h1 class="c44" id="h.wmzlpdzfti9t">

    </div>
  </section>


  <!-- Literature Section -->
  <section class="page-section" id="literature">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
          <h1 class="text mt-0">4. Literature Review</h1>
          <hr class="divider my-4">

          <!-- <a class="btn btn-light btn-xl js-scroll-trigger" href="#services">Get Started!</a> -->
        </div>
      </div>

      <span class="c34">&nbsp;</span></h2>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">For ARIMA description and understanding of Autoregression based algorithms. </span>
      </p>
      <h5 class="c5 c27" id="h.2jebwgydgl0r"><span class="c28 c6">A Gentle Introduction To Sarima For Time Series
          Forecasting in Python, </span></h5>
      <p class="c4 c5"><span>Jason Brownlee - </span><span class="c10 c13"><a class="c7"
            href="https://www.google.com/url?q=https://machinelearningmastery.com/sarima-for-time-series-forecasting-in-python/&amp;sa=D&amp;ust=1576143959304000">https://machinelearningmastery.com/sarima-for-time-series-forecasting-in-python/</a></span>
      </p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4"><span class="c0">For code examples and some error metrics</span></p>
      <h5 class="c27 c5" id="h.yulh77xoxpdp"><span class="c28 c6">How To Forecast Sales with Python Using Sarima
          Model</span></h5>
      <p class="c4 c5"><span>Raphael Larrosa - </span><span class="c10 c13"><a class="c7"
            href="https://www.google.com/url?q=https://towardsdatascience.com/how-to-forecast-sales-with-python-using-sarima-model-ba600992fa7d&amp;sa=D&amp;ust=1576143959305000">https://towardsdatascience.com/how-to-forecast-sales-with-python-using-sarima-model-ba600992fa7d</a></span>
      </p>
      <p class="c4"><span class="c0">A bit more on the ARIMA process</span></p>
      <h5 class="c27 c5" id="h.ex5tfle0egr2"><span class="c28 c6">How To Create an Arima Model For Time Series
          Forecasting in Python</span></h5>
      <p class="c4 c5"><span>Jason Brownlee - </span><span class="c10 c13"><a class="c7"
            href="https://www.google.com/url?q=https://machinelearningmastery.com/arima-for-time-series-forecasting-with-python/&amp;sa=D&amp;ust=1576143959306000">https://machinelearningmastery.com/arima-for-time-series-forecasting-with-python/</a></span>
      </p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4"><span class="c0">On the mathematics behind ARIMA. </span></p>
      <p class="c21"><span class="c6 c28">Introduction to ARIMA: nonseasonal models</span></p>
      <p class="c21"><span class="c0">Fuqua School of Business, Duke University -</span></p>
      <p class="c21"><span>&nbsp;</span><span class="c10 c13"><a class="c7"
            href="https://www.google.com/url?q=https://people.duke.edu/~rnau/411arim.htm&amp;sa=D&amp;ust=1576143959307000">https://people.duke.edu/~rnau/411arim.htm</a></span><span>&nbsp;</span>
      </p>
      <p class="c4 c2"><span class="c11 c6"></span></p>
      <p class="c4"><span class="c11 c6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TensorFlow RNN introduction and
          tutorial</span></p>
      <p class="c4 c38"><span class="c10 c13"><a class="c7"
            href="https://www.google.com/url?q=https://www.tensorflow.org/guide/keras/rnn&amp;sa=D&amp;ust=1576143959308000">https://www.tensorflow.org/guide/keras/rnn</a></span>
      </p>
      <p class="c4 c2"><span class="c11 c6"></span></p>
      <p class="c4"><span class="c6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
          class="c6 c31 c16 c37">Zaytar, Mohamed Akram, and Chaker El Amrani. &quot;Sequence to sequence weather
          forecasting with long short-term memory recurrent neural networks.&quot; </span><span
          class="c22 c6 c16">International Journal of Computer Applications</span><span class="c18 c6 c16">&nbsp;143.11
          (2016): 7-11.</span></p>
      <p class="c4"><span class="c6 c16 c18">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
      <p class="c4"><span class="c6 c31 c37 c16">Chen, Changsong, et al. &quot;Online 24-h solar power forecasting based
          on weather type classification using artificial neural network.&quot; </span><span class="c6 c16 c22">Solar
          energy</span><span class="c18 c6 c16">&nbsp;85.11 (2011): 2856-2870.</span>
      </p>
    </div>
    <!-- </div> -->
  </section>


  <!-- Model Section -->
  <section class="page-section" id="model">
    <div class="container">
      <div class="row justify-content-center">

        <h1><span class="c24">5. Modelling approach</span></h1>

      </div>

      <hr class="divider my-4">
      <h2>

        <p class="c4"><span class="c0">5.1 Baseline model</span></p>
      </h2>
      <p class="c1"><b><span class="c10">5</span><span class="c8">.1.1 Preparing data for modelling</b></span>
      </p>
      <p class="c1"><span class="c0">To begin creating a model between our Sensor data and the ground truth from Boston
          Logan airport we need to get them on the same scale. &nbsp;Our data is taken with a 1s cadence, whereas the
          Boston Logan data is taken slightly off each hour - but not every hour.</span></p>
      <!-- <p class="c1"><span class="c14">&nbsp;</span></p> -->
      <p class="c1"><span class="c0">To deal with the 1 second cadence from our sensor we bin data taken within an hour
          (to conform with the Boston Logan cadence) into a mean and standard deviation - this effectively gives us an
          hourly measure of the average (mean) and variance (std) of a given parameter over the hour long block. The
          variance measure allows us to take advantage of our high cadence - by giving some insight into the variation
          over a block - rather than just considering it as a single mean; this may help prediction in the
          future.</span>
      </p>
      <!-- <p class="c1"><span class="c14">&nbsp;</span></p> -->
      <p class="c1"><span class="c0">The Boston-Logan data was highly non-uniform in cadence. &nbsp;Some observations
          were
          taken on the hour, some were taken 6minutes before the hour. &nbsp;To deal with this we simply rounded to the
          nearest hour and removed any times that were repeated, this could result in a small offset between our sensor
          data and the Boston Logan ground truth, however; since this offset is much smaller than the cadence and
          weather
          is highly correlated on short timescales we don&rsquo;t expect this to be much of an issue. &nbsp;The Boston
          Logan pressure data was converted to pascals from inHg and the temperature data was converted from Fahrenheit
          to
          Celsius.</span></p>
      <!-- <p class="c1"><span class="c14">&nbsp;</span></p> -->
      <p class="c1"><span class="c0">After this we created two data frames for each sensor. &nbsp;One is our sensor
          measurements (our predictors) and the other ground truth for times that were recorded both by the sensor and
          by
          Boston Logan.</span></p>
      <p class="c4"><span class="c14">&nbsp;</span></p>
      <b>
        <p class="c1"><span class="c10">5</span><span class="c8">.1.2 Modeling of preliminary data</span></p>
      </b>
      <p class="c1"><span>As a preliminary analysis, w</span><span class="c0">e used simple linear regression to model
          the
          dry-bulb temperature, station pressure, and relataive humidity measured at the National Weather Service
          station
          at Boston Logan airport (KBOS) based on the preliminary measurements of one of our devices that were taken
          between 11/1 and 11/13. For each of the three values of interest, two different kinds of linear regression
          models were used. For the first kind of model, the training set (80:20 train:test split) was randomly
          distributed over all times. For the second kind of model, data measured after 11/9 was used to train a model
          and
          tested on data measured prior to 11/3. The later-time measurements were used as the training set rather than
          the
          early-time measurements because the late-time set of data is larger. Although a proper &ldquo;forecast&rdquo;
          would use early-time measurements to predict later weather values, general knowledge about how time-separation
          between our training and test sets affects the accuracy of our model will give us an idea of how capable we
          are
          of making predictions about future weather values. The test-set values of the six models are given
          below:</span>
      </p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">For the models with the training set randomly distributed over all times:</span>
      </p>
      <p class="c1"><img src="img/image1.png"><span class="c0">for temperature: 0.76</span></p>
      <p class="c1"><img src="img/image1.png"><span class="c0">for pressure: 0.996</span></p>
      <p class="c1"><img src="img/image1.png"><span class="c0">for humidity: 0.74</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">For models trained on &ldquo;late-time&rdquo; data and tested against
          &ldquo;early-time&rdquo; data:</span></p>
      <p class="c1"><img src="img/image1.png"><span class="c0">for temperature: -4.13</span></p>
      <p class="c1"><img src="img/image1.png"><span class="c0">for pressure: 0.99</span></p>
      <p class="c1"><img src="img/image1.png"><span class="c0">for humidity: -0.5</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">About RNN modeling</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">As the time series data are highly auto-correlated, this provides a way to do
          forecasting. </span></p>
      <p class="c1"><span><img alt="" src="img/image12.png" title=""></span></p>
      <p class="c4"><span class="c6 c36"><b>Figure 3 </b></span><span class="c26"><b>A summary of all the data collected
            as of Nov
            17. </b>Sensor A (sensor in dormitory room) is in blue and Sensor B (sensor in attic) is in red. &nbsp;The
          lines
          show various measurements made at Boston-Logan airport that we might try to predict. &nbsp;It appears that
          our Humidity and Pressure measurements are highly correlated, but the temperature seems more weakly
          correlated. Boston Logan did not provide any good analogs for our Light or Pressure measurements. </span>
      </p>

      <p class="c4"><span class="c14">&nbsp;</span></p>


      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">Based on this very preliminary modelling, we are able to contemporaneously predict
          external weather conditions based on indoor measurements, but with the data we have obtained and using linear
          regression models we cannot make predictions about weather that is 1 week time-separated from the data our
          model
          is trained on.</span></p>

      <p class="c4"><span class="c14">&nbsp;</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <h2>
        <p class="c1"><span class="c10">5.2 Subsequent modelling strategy and expansion on preliminary results</span>
        </p>
      </h2>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">From the preliminary modelling efforts we find that we are able to predict
          contemporaneous external weather phenomena from the results of indoor measurements. However, the failure of an
          initial linear regression model to forecast weather at times that are far separated from the time period over
          which the model was trained highlights the need for more sophisticated modelling techniques to achieve this
          goal. Thus, the strategy that we pursued for subsequent modelling is as follows:</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <ol class="c39 lst-kix_a0qtcpa6ojz9-0 start" start="1">
        <li class="c1 c12 c5"><span class="c6"><b>Expand on contemporaneous modelling:</b></span><span
            class="c0">&nbsp;go
            beyond
            the preliminary linear regression effort by considering more sophisticated options for contemporaneous
            external weather predictions. The initial exploratory data analysis and modelling efforts revealed that the
            pressure and humidity that the detectors measure very closely match the pressure and humidity reported by
            the
            KBOS weather station. Thus, these are not ideal responses to predict, because they will be largely
            determined
            by only a single feature that we measure. External temperature, however, does not track the temperature
            measured by the sensors nearly as closely due to indoor heating. Thus, any model we use to detect the
            outdoor
            temperature will be forced to consider more features, which makes this a more interesting response for us to
            predict. In section 6.1, we report the results of three models aimed at predicting the contemporaneous
            outdoor
            temperature: (1) a simple linear regression model, (2) a 2nd-order polynomial regression model with pairwise
            interaction terms and LASSO regularization cross-validated over the regularization penalty, and (3) a
            bagging
            model featuring an ensemble of regression trees cross-validated over the regression tree depth.</span></li>
        <li class="c1 c12 c5"><span class="c6"><b>Exploration of time-series forecasting:</b></span><span
            class="c0">&nbsp;After
            focusing on using contemporaneous features to predict a response, we then separately tackle the issue of
            forecasting of a variable based on a time-series history of just that variable. We pursue this goal in
            section
            6.2 by implementing a recursive neural network (RNN) model to predict the future temperature based on an
            immediate past history of temperatures, as RNN is good at predicting sequential data.</span></li>
        <li class="c1 c5 c12"><span class="c6"><b>Put it all together:</b></span><span class="c0">&nbsp;Having
            separately
            addressed contemporaneous prediction based on a range of features and forecasting a variable based only on
            that variable&rsquo;s history, we then combine these two paradigms by building a model that forecasts future
            weather variables based both on the variables&rsquo; histories as well as on the values and histories of our
            sensors&rsquo; measurements. We do this in section 6.3 by implementing a Seasonal Autoregressive Integrated
            Moving Average (SARIMA) model and a Recursive Neural Network to compare the predictions with, and compare
            the
            differences between these two forecasting approaches.</span></li>
      </ol>
      <!-- <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c14">&nbsp;</span></p> -->
      <p class="c1 c2"><span class="c8"></span></p>
      <!-- <h1 class="c9" id="h.3mcyao3pgeuo">
      </h1> -->
    </div>

  </section>



  <!-- <div class="container">
      <h2 class="text-center mt-0">Data Collection</h2>
      <hr class="divider my-4">
      <h3>1. Description of the data</h3>
      <p>
        In this project, we like to address the question of whether we can predict outdoor weather conditions, 
        based on indoor sensor measurements, we also obtained the following weather data from weather stations. 
        We have installed sensors to measure various environmental attributes in two different locations in Boston. 
        Specifically, the sensors were installed in (A) the dormitory room of one of our groupmates, and (B) the attic of another groupmate of our ours. The sensors were installed to capture the following environmental attributes over numerous days at 1 second interval:
        Sensor measurements (Predictors): (i) Temperature, (ii) Humidity, (iii) Pressure, (iv) Light, (v) Motion, (vi) Location of sensor, (vii) Time of measurement.
        Weather Conditions (Response): (i) Temperature in Boston, (ii) Sunrise, sunset timings, (iii) Wind speed, (iv) Wind direction, (v) Amount of precipitation, (vi) Cloudy or not
      </p>
      
    </div>

    <div class="container">
      <h2 class="text-center mt-0">Data Cleaning</h2>
      <hr class="divider my-4">
    </div> -->
  <!-- </section> -->

  <section class="page-section" id="results">
    <div class="container">
      <div class="row justify-content-center">
        <h1><span class="c24">6. Project Trajectory, Results, and Interpretation</span></h1>
      </div>
      <hr class="divider my-4">
      <h2>


        <span class="c24">&nbsp;</span></h1>
        <p class="c1 c2">
          <span class="c8"></span></p>
        <h2>
          <p class="c1"><span class="c10">6.1 Predicting the contemporaneous outdoor temperature from indoor
              measurements</span></p>
        </h2>
        <p class="c1 c2"><span class="c0"></span></p>
        <p class="c1 c2"><span class="c0"></span></p>
        <p class="c1"><span class="c0">In this section, we train several different types of models to predict the
            outdoor
            dry-bulb temperature from contemporaneous indoor measurements taken over the whole month of November. Two
            different sensors were used for the indoor measurements. &#39;Sensor A&#39; was left to record in one of our
            dorm
            rooms, while &#39;Sensor B&#39; was left to record in an infrequently-used attic next to a window. We will
            attempt
            to build models to predict the outdoor dry-bulb temperature from each of these sensors separately.</span>
        </p>
        <p class="c1 c2"><span class="c0"></span></p>
        <p class="c1"><span class="c0">The relevant variables for the models and analyses in this section are:</span>
        </p>
        <p class="c1 c2"><span class="c0"></span></p>
        <p class="c1"><span class="c0">Model features:</span></p>
        <p class="c1"><span class="c6"><b>`time`</b></span><span>: the date and time of the sample. For each variable
            corresponding
            to sensor measurements we average hourly. We feature engineer the `<b>time</b>` data by creating Fourier
            components
          </span><span class="c6">`<b>time_sin</b>`</span><span>&nbsp;and </span><span
            class="c6">`<b>time_cos</b>`</span><span class="c0">,
            which themselves are used as predictors for modelling.</span></p>
        <p class="c1"><span class="c6">`<b>motion_mean</b>`</span><span class="c0">: the average value of the motion
            measurements
            obtained over that hour.</span></p>
        <p class="c1"><span class="c6">`<b>light_mean</b>`</span><span class="c0">: the average value of the light
            measurements
            obtained over that hour (NOTE: high values of `light_mean` correspond to LOW light levels).</span></p>
        <p class="c1"><span class="c6">`<b>pressure_mean</b>`</span><span class="c0">: the average value of the pressure
            measurements
            obtained over that hour.</span></p>
        <p class="c1"><span class="c6">`<b>temperature_mean</b>`</span><span class="c0">: the average value of the
            sensors&#39;
            temperature measurements obtained over that hour.</span></p>
        <p class="c1"><span class="c6">`<b>humidity_mean</b>`</span><span class="c0">: the average value of humidity
            measurements
            obtained over that hour.</span></p>
        <p class="c1 c2"><span class="c0"></span></p>
        <p class="c1"><span class="c0">Model response:</span></p>
        <p class="c1"><span class="c6">`<b>HourlyDryBulbTemperature</b>`</span><span class="c0">: the outdoor dry-bulb
            temperature
            measured at the Boston Logan National Weather Service station (KBOS), measured hourly. Throughout this
            section we
            will refer to this variable as the &#39;outdoor temperature&#39;.</span></p>
        <p class="c1 c2"><span class="c0"></span></p>
        <p class="c1"><span class="c8"><b>6.1.1: Linear Regression Models</b></span></p>
        <p class="c1"><span class="c0">We begin by training simple linear regression models to the data obtained from
            each
            sensor and calculating the $R^2$ values for the training and test sets. We standardize the data so that the
            magnitudes of the coefficients can be compared to one another as a metric of feature importance.</span></p>
        <p class="c1 c2"><span class="c0"></span></p>
        <p class="c1"><span class="c0">Performance of linear regression models:</span></p>
        <p class="c1"><span class="c0">Sensor A:</span></p>
        <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on training set: 0.49</span>
        </p>
        <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on test set: 0.57</span></p>
        <p class="c1"><span class="c0">Sensor B:</span></p>
        <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on training set: 0.70</span>
        </p>
        <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on test set: 0.68</span></p>
        <p class="c1 c2"><span class="c0"></span></p>
        <p class="c4">
      </h2>
      <img alt="" src="img/image23.png" title="" class="center"
        style="width: 624.00px; height: 448.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);">
      </p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">We see that our simple linear regression models for sensor A performs better on
          the
          test set than the training set, while the opposite is true for sensor B. It appears that the model based on
          measurements by sensor B performs better than the model based on measurements by sensor A. This is expected,
          because sensor B was kept in a more isolated environment than sensor A.</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">We then compare the coefficient values for the features in these linear
          regression
          models. Based on this analysis, `humidity_mean` is the most important feature for the sensor A model while
          `temperature_mean` is the most important feature for the sensor B model. Since sensor B was kept next to a
          window,
          we would indeed expect the temperature measurements of sensor B to more accurately reflect the outdoor
          temperature
          and as a result the coefficient for `temperature_mean` should be very high. Since sensor A is kept within a
          dorm
          room far from a window, its temperature measurements will not reflect the outdoor temperature nearly as well
          and
          its model must depend more on other variables that correlate with the outdoor temperature. The most
          important
          coefficient for sensor A is apparently `humidity_mean`, which positively correlates with the outdoor
          temperature.
          This is consistent with the coefficient values for sensor B, which also detects a positive correlation
          between
          `humidity_mean` and the outdoor temperature.</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">We also detect a sizeable negative coefficient value for `motion_mean` in the
          sensor A
          linear regression model, while the magnitude of the `motion_mean` coefficient is negligible for sensor B.
          This is
          consistent with the occupants of the dorm room spending more time inside when it is cold. Since sensor B is
          in an
          attic which is infrequently visited by people, it rarely detects significant motion and thus would not
          register
          any relationship between outdoor temperature and motion.</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">It should be noted that high values of `light_mean` correspond to darkness,
          whereas low
          values correspond to bright conditions. For sensor B we see a significant negative value of the coefficient
          for
          `light_mean`, which indicates that darkness is positively associated with low outdoor temperatures. This is
          of
          course reasonable, as it gets colder at night. Sensor A, on the other hand, has a positive value of this
          coefficient, indicating that its `light_mean` data is negatively associated with the outdoor temperature.
          This is
          also reasonable: during the day (when the outdoor temperature is high) no one is in the room and the lights
          are
          off since everyone is at work or in class, whereas at night the indoor lights are on and the occupant is at
          home--presumably staying up all night working on AC209a problem sets.</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">Sensor A also has a sizeable negative `time_cos` coefficient, whereas the
          `time_cos`
          and `time_sin` coefficients for sensor B are both relatively large and negative. This is intuitive; when
          these
          respective variables are positive it is either late at night or early in the morning, when it is expected to
          be
          coldest.</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c10"><b>6.1.2 Polynomial regression (order 2) with pairwise interaction terms and LASSO
            regularization</b></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">Next, we train 2nd-order polynomial models with all pairwise interaction terms to
          the
          measaurement data of each sensor in order to study the effects of interactions between our features. We also
          employ LASSO regularization for feature selection, cross-validating on the regularization penalty. We also
          standardize all variables prior to calculating the quadratic and interaction terms.</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">Performance of linear regression models:</span></p>
      <p class="c1"><span class="c0">Sensor A:</span></p>
      <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on training set: 0.61</span>
      </p>
      <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on test set: 0.61</span></p>
      <p class="c1"><span class="c0">Sensor B:</span></p>
      <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on training set: 0.78</span>
      </p>
      <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on test set: 0.79</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c1"><span><img alt="" src="img/image8.png"
            style="width: 824.00px; height: 412.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">We see that the regularized polynomial models with interactions do indeed perform
          a bit
          better than the simple linear regression models for each of the sensors.</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">We plot the coefficient values for each feature in these models. We see that
          LASSO
          regularization has set many of the coefficients to zero, particularly for sensor B. This makes sense,
          because
          sensor B&#39;s `temperature_mean` is such a strong predictor for outdoor temperature given its location near
          a
          window that the space of other predictors can be made very sparse without sacrificing much accuracy. For the
          linear terms we see the same breakdown in most important feature for the two sensors as we did for the
          simple
          linear regression models--sensor A&#39;s most important feature is still `humidity_mean`, while sensor
          B&#39;s
          most important feature is still `temperature_mean`. Interestingly, for sensor B `pressure_mean` is now very
          negatively associated with outdoor temperature, whereas the model for sensor A features a small positive
          correlation. We also still see the negative association between outdoor temperature and `motion_mean` for
          sensor
          A. Additionally, both Fourier components for time have negative values for both sensors, corresponding to
          early
          morning generally being the coldest time of day.</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">For both sensors we see a sizeable negative association between `pressure_mean^2`
          and
          the outdoor temperature. This, combined with the fact that Sensor B has a strongly negative coefficient for
          `pressure_mean`, indicates that the outside temperature decreases more strongly with increasing
          `pressure_mean`
          than it increases with decreasing `pressure_mean`.</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">We also detect a sizeable negative association between the interaction term
          `temperature_mean*humidity_mean` and the outdoor temperature for sensor B. Since both `temperature_mean` and
          `humidity_mean` are the two most important linear features, it is not unexpected that their interaction term
          would
          also be quite significant. The fact that these coefficients are negative but the corresponding linear-term
          coefficients are very positive indicates that when both `temperature_mean` and `humidity_mean` are high, the
          outdoor temperature does not increase as quickly with these variables as it would if only one of these
          variables
          were high.</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">For the interaction term `temperature_mean*pressure_mean`, we see that sensor
          A&#39;s
          coefficient is positive whereas sensor B&#39;s coefficient is negative. This is the only interaction term
          which is
          both significant for both sensors but opposite in sign. It should be noted that sensor B&#39;s negative
          value of
          the coefficient of `pressure_mean` is counterintuitive because barometric pressure and temperature are
          usually
          positively associated--hotter air generally has a higher barometric pressure, barring other weather
          phenomena.</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c8"><b>6.1.3 Bagging models</b></span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">We now try to improve our prediction accuracy by bagging with regression trees.
          We
          begin by cross-validating on the depth of trees in the ensemble. The CV score as a function of tree depth
          for both
          sensor A and sensor B bagging models saturates by a tree depth of 15, so we will use this value for the
          depth of
          the trees in an ensemble of 100.</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">Performance of linear regression models:</span></p>
      <p class="c1"><span class="c0">Sensor A:</span></p>
      <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on training set: 0.97</span>
      </p>
      <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on test set: 0.84</span></p>
      <p class="c1"><span class="c0">Sensor B:</span></p>
      <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on training set: 0.98</span>
      </p>
      <p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R^2 on test set: 0.85</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span><img alt="" src="img/image14.png"
            style="width: 600.00px; height: 400.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">For the bagging model with a tree depth of 15 we obtain much higher test-set
          $R^2$
          values for both sensors.</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">From the variable importance plot above we see that the most important variable
          for
          Sensor A is `humidity_mean` while the most important variable for Sensor B is `temperature_mean`. This
          breakdown
          agrees well with the variable importance analysis of the previous regression models. We also see that Sensor
          A has
          a strong reliance on `pressure_mean` and the Fourier components `time_sin` and `time_cos` for accurately
          determining the outdoor temperature. As we stated previously, the temperature measurements of sensor A will
          reflect the outdoor temperature much less well than those for sensor B since it is not near a window. Thus,
          the
          model for sensor A must rely relatively more on variables that correlate with the outdoor temperature. In
          general,
          humidity, barometric pressure, and time of day do just that.</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">Given that the bagging models performed the best of all three models we have
          considered
          for predicting the contemporaneous outdoor temperature, we will now use them to predict on both the training
          and
          test sets:</span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span
          style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 998.67px;"><img
            alt="" src="img/image5.png"
            style="width: 624.00px; height: 998.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c1 c2"><span class="c0"></span></p>
      <p class="c1"><span class="c0">&nbsp;</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c8">
          <h2>6.2 RNN modeling for weather forecast</h2>
        </span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">A recurrent neural network (RNN) is a type of neural network where the output
          from the
          previous step are fed as input to the current step in order to predict am sequence of data. Unlike
          feedforward
          neural networks, RNNs can use their internal state (memory) to process sequences of inputs. It can be used
          in
          weather forecasting, stock market prediction, handwritten recognition, speech recognition, music
          composition,
          etc.where the data are ordered in sequence. Long short-term memory (LSTM) networks are a special kind of
          RNN,
          which are capable of learning long-term dependencies.</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">In the notebook, we use LSTM to demonstrate preliminary weather forecasting,
          trained on
          three different datasets: (1) Boston Logan Airport Weather Station Data, (2) Data collected by CS109A sensor
          A,
          (3) Data collected by CS109A sensor B. Below is an example of predicting temperature 12 hours into the
          future
          based on 72 hours history (each time step corresponds to one hour). More prediction plots are in the
          notebook.</span></p>
      <p class="c33"><span>
          <img alt="" src="img/image7.png"
            style="width: 600.33px; height: 450.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">The advantage of RNN is it can learn special patterns in a sequence and predict a
          series of points one by one. The corresponding downside is that RNN error increases as the number of
          prediction
          points increases. This is because if the first point is not predicted correctly, the error will be taken to
          the
          second point prediction, and the second point error will be taken to later point prediction, such that the
          error
          gets amplified. To study this, we train RNN models separately to predict different hours into the future,
          and
          record the prediction errors. The result is plotted here:</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c33"><span><img alt="" src="img/image10.png"
            style="width: 600.33px; height: 450.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c0">As can be seen, the error increases monotonically as we increase the number of
          hours to
          predict. This is in contrast with the SARIMA model, as it can handle long-time prediction.</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4"><span class="c10">
          <h2>6.3 SARIMA modeling</h2>
        </span><span class="c0">&nbsp;</span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c5"><span class="c0">SARIMA is a more general version of the ARIMA model (Autoregressive Integrated
          Moving Average). &nbsp;ARIMA in turn stands for Auto-Regressive Integrated Moving average. It works
          basically by
          differencing the time series until it becomes stationary. Then predicts over that series by a combination of
          auto-regressive methods and moving average. &nbsp;Stationary here means that the series joint probability
          distribution does not change with time. I.e. a stationary series variations about the mean are constant and
          have
          no trend. </span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c5"><span class="c0">SARIMA It is more general in the sense that it can accommodate seasonal
          (periodic)
          variations. Whereas ARIMA expects non-seasonal input or input with the seasonal component removed.
          &nbsp;SARIMAX
          has a total of 7 free parameters. &nbsp;It inherits the p,d,q parameters from ARIMA (trend autoregression
          order,
          trend difference order, and the trend moving average order) and adds four more : sp, sd, sq &amp; f, which
          are
          respectively the seasonal autoregressive order, seasonal difference order, the seasonal moving average order
          and
          the number of timesteps for a given seasonal period. </span></p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4 c5"><span>In our modeling, we&rsquo;ve fixed the frequency to be 24. &nbsp;This is natural since
          our data
          is sampled every hour and many of our predictors (light, temperature, humidity etc.) will likely also
          fluctuate on
          a daily timescale. We treated the number of terms as hyperparameters and simply compared many different
          values in
          a grid search to find the best model. To judge the quality of each model we aim to minimize the AIC score
          defined
          to be: AIC = </span><img src="img/image2.png"><span class="c0">. Where k is the number of estimated
          parameters in
          the model and L is the maximum likelihood. &nbsp;As such we can account both for the risk of overfitting,
          (the
          presence of k is a penalizes of overfit models) and the risk of underfitting (by minimizing AIC). </span>
      </p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4 c5"><span class="c0">While the AIC is useful for discriminating between other models with AIC
          values to
          properly compare with the RNN forecasting we also compute the maximum error as a function of time. </span>
      </p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4 c5"><span class="c0">One of the advantages of this SARIMA for time series prediction is its
          presumption
          of periodicity. This ensures our predictions remain relatively reasonable even over long timescales. The
          disadvantage is lower order fits have difficulty capturing nuances in the behavior, whereas higher order
          fits take
          quite a while to run. Ideally one would like to conduct a grid search on the entire space with many
          different
          orders, but that is computationally costly. </span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c5"><span class="c0">Thus, our modeling we vary the trend parameters among 0th,1st, and 2nd order
          and do
          the same with the seasonal orders, but we keep the order of each parameter seasonal parameter and trend
          parameter
          the same within each run. (i.e we compare the cartesian product of ({[0,0,0],[1,1,1],[2,2,2]} with
          {[0,0,0],[1,1,1],[2,2,2]}). In principle varying each parameter individually would be more rigorous, but
          since
          SARIMA models take quite a while to run, imposing the individual parameters must be the same cuts down on
          the
          parameter space while allowing us to still sample from a few higher order models. </span></p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4 c5"><span class="c0">For forecasting the temperature we get, for sensors A, B, and the Boston Logan
          station are respectively:</span></p>
      <p class="c4 c5"><span><img alt="" src="img/image25.png"
            style="width: 900.00px; height: 300.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span><span><img alt="" src="img/image20.png"
            style="width: 900.00px; height: 300.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span><span><img alt="" src="img/image21.png"
            style="width: 900.00px; height: 300.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c4 c5"><span class="c0">Here the shaded areas are 95% confidence bounds. We see that we recover
          periodic
          variations in the Sensor B model, but the temperature recorded by Sensor A is best fit by a constant.
          &nbsp;This
          makes sense since Sensor A was kept in a dorm room and sensor B was kept in an attic, largely without human
          presence. &nbsp;While the model does very well for the two sensors, it fails to capture the recent downward
          trend
          in temperature shown by the weather station. This makes sense since we&rsquo;ve limited the order of the
          terms
          rather stringently, higher order terms might help improve the fit. &nbsp;For more direct comparison with the
          RNN
          modeling we also show the absolute error versus time, again for sensors A, B and Boston Logan respectively:
        </span></p>
      <p class="c4 c5"><span><img alt="" src="img/image15.png"
            style="width: 800.57px; height: 500.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c4 c5"><span><img alt="" src="img/image4.png"
            style="width: 800.50px; height: 500.02px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span><span><img alt="" src="img/image16.png"
            style="width: 800.84px; height: 500.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c4 c5"><span class="c0">As expected, since SARIMA works of a fundamentally periodic model, the
          residuals
          don&rsquo;t grow very strongly with time. This also makes it ideal for modeling variations in the light from
          the
          two sensors. As usual for Sensor A and B:</span></p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4 c5"><span><img alt="" src="img/image13.png"
            style="width: 900.00px; height: 300.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4 c5"><span></span><img alt="" src="img/image22.png"
          style="width: 900.00px; height: 300.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
          title=""></span></p>
      <p class="c4 c5"><span class="c0">The room sensor A was left in was largely darkened for the period, so SARIMA
          simply
          predicts a constant. Whereas the room containing sensor B had a window, and so the sensor picked up the
          sunrise
          and sunset times. SARIMA forecasts this very nicely.</span></p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4 c5"><span class="c0">The forecasts for Humidity and Pressure were near constant for both Sensors A
          and B,
          which seems reasonable given the data. </span></p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4 c5"><span class="c0">Sensor A and B Humidity: </span></p>
      <p class="c4 c5"><span><img alt="" src="img/image26.png"
            style="width: 900.00px; height: 300.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c4 c5"><span><img alt="" src="img/image3.png"
            style="width: 900.00px; height: 300.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c4 c5"><span class="c0">&nbsp;Sensor A and B Pressure: </span></p>
      <p class="c4 c5"><span><img alt="" src="img/image11.png"
            style="width: 900.00px; height: 300.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span><span><img alt="" src="img/image17.png"
            style="width: 900.00px; height: 300.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
            title=""></span></p>
      <p class="c4 c2 c5"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4 c2"><span class="c0"></span></p>
      <p class="c4">

        <p class="c4"><span class="c11 c6">As mentioned above, the SARIMA models have significant room for improvement
            given
            more rigorous searches and longer computational times. </span></p>
        <p class="c4 c2"><span class="c11 c6"></span></p>
        <p class="c4 c2"><span class="c11 c6"></span></p>
        <p class="c4"><span class="c0">We believe the SARIMA models in particular have significant room for improvement
            given
            more rigorous searches and longer computation times. In addition to the previously described grid search we
            also
            conducted a deeper search rigorously checking all combinations of parameters for select parameters.
            &nbsp;Each
            such run takes about 12hrs per feature so it was impractical to do this for the entire dataset. &nbsp;The
            following is an example of such a result predicted for the Sensor A temperature data. It was obtained using
            the
            orders (2,1,2) for the trend component and (2,1,2) for the seasonal (since the orders are different
            it&rsquo;s an
            example of a model that wouldn&rsquo;t be found by our less rigours search). We can see in this fit SARIMA
            attempts to fit the periodicity in the downward temperature spikes. (Caused by going to bed with the windows
            open). It manages to understand the periodicity in the spikes, but fails to predict when the occur location,
            therefore it predicts temperature fluctuations where none exist in some cases. </span></p>
        <p class="c4"><span
            style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 212.00px;"><img
              alt="" src="img/image9.png"
              style="width: 624.00px; height: 212.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
              title=""></span></p>
        <p class="c4"><span class="c0">This is a good example of how our results could potentially be further improved
            given
            more time and computational resources. </span></p>
        <p class="c4 c2"><span class="c11 c6"></span></p>
      </p>
    </div>
  </section>



  <!-- Conclusion -->
  <section class="page-section bg-dark text-white" , id="conclusion">
    <div class="row justify-content-center">
      <div class="container text-center">

        <span class="c6 c11">
          <h2>7. Conclusions and Future Work</h2>
        </span>
        <hr class="divider my-4">
        <p class="c4 c2"><span class="c11 c6"></span></p>

        <p>In this project, we set out to address if it might be possible to predict outdoor weather conditions using
            indoor sensor measurements. Specifically, we are interested in whether indoor sensor measurements can determine
            outdoor weather conditions. Further, we're interested in whether the sensor measurements can help us forecast
            future weather conditions.
          </p>
    
          <p>In our project, we show that certain weather conditions like pressure and humidity are quite straight forward
            to measure indoors and show good concordance with outdoor measurements, though this did not apply for
            temperature. As such, we developed a series of models to predict outdoor temperature. Eventually, we settled
            upon a bagging model which showed good prediction accuracies. Interestingly, sensor temperature and humidity
            were more important for predicting outdoor temperatures for sensor B (attic) and Sensor A (dorm room)
            respectively</p>
    
          <p>To forecast weather conditions, we applied RNN and SARIMA time series models. Despite numerous attemps, we
            found that these models did not achieve great prediction accuracy, with fairly high mean absolute errors
            especially when we try to predict further into the future. This might reflect the highly stochastic nature of
            weather which makes weather forecasting a generally difficult endeavour. By further improving out models, we
            expect to achieve better predictions.</p>
    
          <p>Overall, we have achieved our goal in this project to predict outdoor weather conditions based on indoor sensor
            measurements.</p>
      </div>

        </div>
  </section>

  <!-- About Section -->
  <section class="page-section" id="about">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
          <h2 class="mt-0">About us</h2>
          <hr class="divider my-4">
          <p>This project was developed for the AC209A (2019 Fall) project at Harvard
            University. Members of the group (Group #14) are:</p>
          <p>Ryan Duncan</p>
          <p>Richard Zachary Murray</p>
          <p>Kar-Tong Tan</p>
          <p>Ziwei Qiu</p>


        </div>
      </div>
      <!-- About Section -->
      <section class="page-section" id="about">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
              <h2 class="mt-0">Code</h2>
              <hr class="divider my-4">
              <p>Source code for our work can be found at our github:</p>
              <a href="https://github.com/raduncan313/AC209A_final_project">Github link</a></span><span>&nbsp;</span>
            </div>
          </div>
      </section>

      <!-- Footer -->
      <footer class="bg-light py-5">
        <div class="container">
          <div class="small text-center text-muted">Copyright &copy; 2019 - Harvard University AC209A</div>
        </div>
      </footer>

      <!-- Bootstrap core JavaScript -->
      <script src="vendor/jquery/jquery.min.js"></script>
      <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

      <!-- Plugin JavaScript -->
      <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
      <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

      <!-- Custom scripts for this template -->
      <script src="js/creative.min.js"></script>

</body>

</html>